<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯¾å ‚é‡ç‚¹æ•´ç†APIæµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .test-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .test-section:hover {
            border-color: #4CAF50;
            box-shadow: 0 10px 20px rgba(76, 175, 80, 0.1);
            transform: translateY(-2px);
        }

        .test-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .icon {
            font-size: 1.5em;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #34495e;
        }

        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #4CAF50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 80px;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(76, 175, 80, 0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn.btn-info {
            background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
        }

        .btn.btn-warning {
            background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
        }

        .btn.btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .response-section {
            margin-top: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border-left: 5px solid #4CAF50;
        }

        .response-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .response-content {
            background: white;
            border-radius: 8px;
            padding: 20px;
            border: 1px solid #ddd;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }

        .status-indicator {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 15px;
            display: inline-block;
        }

        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .status-loading {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .file-input-wrapper {
            position: relative;
            display: inline-block;
            cursor: pointer;
            background: #f8f9fa;
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            width: 100%;
        }

        .file-input-wrapper:hover {
            border-color: #4CAF50;
            background: #f0fff0;
        }

        .file-input-wrapper input[type="file"] {
            position: absolute;
            left: -9999px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            border-color: #4CAF50;
            transform: translateY(-2px);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #4CAF50;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #6c757d;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .test-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“š è¯¾å ‚é‡ç‚¹æ•´ç†APIæµ‹è¯•</h1>
            <p>æµ‹è¯•å½•éŸ³ä¸Šä¼ ã€AIåˆ†æã€æ–‡æ¡£ç”Ÿæˆç­‰åŠŸèƒ½</p>
        </div>

        <div class="content">
            <!-- ç»Ÿè®¡ä¿¡æ¯ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalRequests">0</div>
                    <div class="stat-label">æ€»è¯·æ±‚æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="successCount">0</div>
                    <div class="stat-label">æˆåŠŸæ¬¡æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="errorCount">0</div>
                    <div class="stat-label">å¤±è´¥æ¬¡æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgResponseTime">0ms</div>
                    <div class="stat-label">å¹³å‡å“åº”æ—¶é—´</div>
                </div>
            </div>

            <div class="test-grid">
                <!-- 1. åˆ›å»ºè¯¾å ‚æ€»ç»“ -->
                <div class="test-section">
                    <h3><span class="icon">ğŸ“</span>åˆ›å»ºè¯¾å ‚æ€»ç»“</h3>
                    <div class="form-group">
                        <label>è¯¾ç¨‹ID:</label>
                        <input type="number" id="createCourseId" class="form-control" value="16" placeholder="è¾“å…¥è¯¾ç¨‹ID">
                    </div>
                    <div class="form-group">
                        <label>æ•™å¸ˆID:</label>
                        <input type="number" id="createTeacherId" class="form-control" value="2" placeholder="è¾“å…¥æ•™å¸ˆID">
                    </div>
                    <div class="form-group">
                        <label>è¯¾å ‚æ ‡é¢˜:</label>
                        <input type="text" id="createTitle" class="form-control" value="Linuxç³»ç»Ÿç®¡ç†è¿›é˜¶" placeholder="è¾“å…¥è¯¾å ‚æ ‡é¢˜">
                    </div>
                    <div class="form-group">
                        <label>è¯¾å ‚æè¿°:</label>
                        <textarea id="createDescription" class="form-control" placeholder="è¾“å…¥è¯¾å ‚æè¿°">æœ¬æ¬¡è¯¾ç¨‹æ·±å…¥è®²è§£Linuxç³»ç»Ÿç®¡ç†çš„é«˜çº§æŠ€å·§ï¼ŒåŒ…æ‹¬ç”¨æˆ·æƒé™ç®¡ç†ã€ç³»ç»Ÿç›‘æ§ã€æ—¥å¿—åˆ†æç­‰å†…å®¹ã€‚</textarea>
                    </div>
                    <div class="form-group">
                        <label>å…³é”®è¯:</label>
                        <input type="text" id="createKeywords" class="form-control" value="Linux,ç³»ç»Ÿç®¡ç†,æƒé™,ç›‘æ§" placeholder="ç”¨é€—å·åˆ†éš”å…³é”®è¯">
                    </div>
                    <button class="btn" onclick="createClassSummary()">åˆ›å»ºè¯¾å ‚æ€»ç»“</button>
                </div>

                <!-- 2. ä¸Šä¼ å½•éŸ³æ–‡ä»¶ -->
                <div class="test-section">
                    <h3><span class="icon">ğŸ¤</span>ä¸Šä¼ å½•éŸ³æ–‡ä»¶</h3>
                    <div class="form-group">
                        <label>è¯¾ç¨‹ID:</label>
                        <input type="number" id="uploadCourseId" class="form-control" value="16" placeholder="è¾“å…¥è¯¾ç¨‹ID">
                    </div>
                    <div class="form-group">
                        <label>é€‰æ‹©éŸ³é¢‘æ–‡ä»¶:</label>
                        <div class="file-input-wrapper">
                            <input type="file" id="audioFile" accept=".mp3,.wav,.m4a,.webm" onchange="updateFileName()">
                            <div id="fileDisplayName">ç‚¹å‡»é€‰æ‹©éŸ³é¢‘æ–‡ä»¶ (.mp3, .wav, .m4a, .webm)</div>
                        </div>
                    </div>
                    <button class="btn" onclick="uploadAudioFile()">ä¸Šä¼ å½•éŸ³æ–‡ä»¶</button>
                </div>

                <!-- 3. è¯­éŸ³è½¬æ–‡å­— -->
                <div class="test-section">
                    <h3><span class="icon">ğŸµ</span>è¯­éŸ³è½¬æ–‡å­—</h3>
                    <div class="form-group">
                        <label>è¯¾å ‚æ€»ç»“ID:</label>
                        <input type="number" id="transcriptSummaryId" class="form-control" value="1" placeholder="è¾“å…¥è¯¾å ‚æ€»ç»“ID">
                    </div>
                    <div class="form-group">
                        <label>éŸ³é¢‘æ–‡ä»¶è·¯å¾„:</label>
                        <input type="text" id="transcriptAudioPath" class="form-control" value="uploads/audio/course16/sample.wav" placeholder="è¾“å…¥éŸ³é¢‘æ–‡ä»¶è·¯å¾„">
                    </div>
                    <button class="btn btn-info" onclick="processAudioToText()">å¼€å§‹è¯­éŸ³è½¬æ–‡å­—</button>
                </div>

                <!-- 4. AIç”Ÿæˆé‡ç‚¹æ•´ç† -->
                <div class="test-section">
                    <h3><span class="icon">ğŸ¤–</span>AIé‡ç‚¹æ•´ç†</h3>
                    <div class="form-group">
                        <label>è¯¾å ‚æ€»ç»“ID:</label>
                        <input type="number" id="aiSummaryId" class="form-control" value="1" placeholder="è¾“å…¥è¯¾å ‚æ€»ç»“ID">
                    </div>
                    <div class="form-group">
                        <label>è½¬å½•æ–‡æœ¬:</label>
                        <textarea id="aiTranscriptText" class="form-control" placeholder="è¾“å…¥è½¬å½•çš„æ–‡æœ¬å†…å®¹">ä»Šå¤©æˆ‘ä»¬å­¦ä¹ Linuxç³»ç»Ÿç®¡ç†çš„é«˜çº§æŠ€å·§ã€‚é¦–å…ˆè®²è§£ç”¨æˆ·æƒé™ç®¡ç†ï¼ŒåŒ…æ‹¬sudoé…ç½®ã€ç»„æƒé™è®¾ç½®ç­‰ã€‚ç„¶åä»‹ç»ç³»ç»Ÿç›‘æ§å·¥å…·å¦‚topã€htopã€iotopçš„ä½¿ç”¨æ–¹æ³•ã€‚æœ€åè®²è§£æ—¥å¿—åˆ†ææŠ€å·§ï¼ŒåŒ…æ‹¬ç³»ç»Ÿæ—¥å¿—ã€åº”ç”¨æ—¥å¿—çš„æŸ¥çœ‹å’Œåˆ†æã€‚</textarea>
                    </div>
                    <div class="form-group">
                        <label>è¯¾ä»¶å†…å®¹ (å¯é€‰):</label>
                        <textarea id="aiCoursewareContent" class="form-control" placeholder="è¾“å…¥è¯¾ä»¶å†…å®¹">Linuxç³»ç»Ÿç®¡ç†è¿›é˜¶æ•™ç¨‹å¤§çº²ï¼š\n1. ç”¨æˆ·æƒé™ç®¡ç†\n2. ç³»ç»Ÿç›‘æ§å·¥å…·\n3. æ—¥å¿—åˆ†ææŠ€å·§\n4. æ€§èƒ½ä¼˜åŒ–æ–¹æ³•</textarea>
                    </div>
                    <button class="btn btn-warning" onclick="generateAISummary()">ç”ŸæˆAIé‡ç‚¹æ•´ç†</button>
                </div>

                <!-- 5. æ›´æ–°æœ€ç»ˆå†…å®¹ -->
                <div class="test-section">
                    <h3><span class="icon">âœï¸</span>æ›´æ–°æœ€ç»ˆå†…å®¹</h3>
                    <div class="form-group">
                        <label>è¯¾å ‚æ€»ç»“ID:</label>
                        <input type="number" id="updateSummaryId" class="form-control" value="1" placeholder="è¾“å…¥è¯¾å ‚æ€»ç»“ID">
                    </div>
                    <div class="form-group">
                        <label>æœ€ç»ˆæ–‡æ¡£å†…å®¹:</label>
                        <textarea id="updateFinalContent" class="form-control" style="min-height: 120px;" placeholder="è¾“å…¥æœ€ç»ˆç¼–è¾‘çš„æ–‡æ¡£å†…å®¹"># Linuxç³»ç»Ÿç®¡ç†è¿›é˜¶è¯¾å ‚æ€»ç»“

## ç”¨æˆ·æƒé™ç®¡ç†
- sudoé…ç½®ä¸ä½¿ç”¨
- ç”¨æˆ·ç»„ç®¡ç†
- æ–‡ä»¶æƒé™è®¾ç½®

## ç³»ç»Ÿç›‘æ§
- topå‘½ä»¤è¯¦è§£
- htopé«˜çº§ç”¨æ³•
- iotopç£ç›˜ç›‘æ§

## æ—¥å¿—åˆ†æ
- ç³»ç»Ÿæ—¥å¿—ä½ç½®
- æ—¥å¿—åˆ†æå·¥å…·
- æ•…éšœæ’æŸ¥æ–¹æ³•</textarea>
                    </div>
                    <button class="btn" onclick="updateFinalContent()">æ›´æ–°æœ€ç»ˆå†…å®¹</button>
                </div>

                <!-- 6. å‘å¸ƒè¯¾å ‚æ€»ç»“ -->
                <div class="test-section">
                    <h3><span class="icon">ğŸš€</span>å‘å¸ƒè¯¾å ‚æ€»ç»“</h3>
                    <div class="form-group">
                        <label>è¯¾å ‚æ€»ç»“ID:</label>
                        <input type="number" id="publishSummaryId" class="form-control" value="1" placeholder="è¾“å…¥è¯¾å ‚æ€»ç»“ID">
                    </div>
                    <button class="btn btn-danger" onclick="publishClassSummary()">å‘å¸ƒåˆ°å­¦ç”Ÿç«¯</button>
                </div>
            </div>

            <!-- æŸ¥è¯¢åŠŸèƒ½ -->
            <div class="test-grid">
                <!-- 7. è·å–æ•™å¸ˆè¯¾å ‚æ€»ç»“åˆ—è¡¨ -->
                <div class="test-section">
                    <h3><span class="icon">ğŸ“‹</span>æ•™å¸ˆè¯¾å ‚æ€»ç»“åˆ—è¡¨</h3>
                    <div class="form-group">
                        <label>æ•™å¸ˆID:</label>
                        <input type="number" id="listTeacherId" class="form-control" value="2" placeholder="è¾“å…¥æ•™å¸ˆID">
                    </div>
                    <button class="btn btn-info" onclick="getTeacherSummaries()">è·å–åˆ—è¡¨</button>
                </div>

                <!-- 8. è·å–å·²å‘å¸ƒæ€»ç»“åˆ—è¡¨ -->
                <div class="test-section">
                    <h3><span class="icon">ğŸ“–</span>å·²å‘å¸ƒæ€»ç»“åˆ—è¡¨</h3>
                    <div class="form-group">
                        <label>è¯¾ç¨‹ID (å¯é€‰):</label>
                        <input type="number" id="publishedCourseId" class="form-control" value="16" placeholder="è¾“å…¥è¯¾ç¨‹IDï¼Œç•™ç©ºè·å–å…¨éƒ¨">
                    </div>
                    <button class="btn btn-info" onclick="getPublishedSummaries()">è·å–å·²å‘å¸ƒåˆ—è¡¨</button>
                </div>

                <!-- 9. æœç´¢è¯¾å ‚æ€»ç»“ -->
                <div class="test-section">
                    <h3><span class="icon">ğŸ”</span>æœç´¢è¯¾å ‚æ€»ç»“</h3>
                    <div class="form-group">
                        <label>æœç´¢å…³é”®è¯:</label>
                        <input type="text" id="searchKeyword" class="form-control" value="Linux" placeholder="è¾“å…¥æœç´¢å…³é”®è¯">
                    </div>
                    <button class="btn btn-info" onclick="searchSummaries()">æœç´¢</button>
                </div>

                <!-- 10. è·å–ç»Ÿè®¡ä¿¡æ¯ -->
                <div class="test-section">
                    <h3><span class="icon">ğŸ“Š</span>ç»Ÿè®¡ä¿¡æ¯</h3>
                    <div class="form-group">
                        <label>æ•™å¸ˆID:</label>
                        <input type="number" id="statsTeacherId" class="form-control" value="2" placeholder="è¾“å…¥æ•™å¸ˆID">
                    </div>
                    <button class="btn btn-info" onclick="getSummaryStatistics()">è·å–ç»Ÿè®¡</button>
                </div>
            </div>

            <!-- å“åº”ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
            <div class="response-section">
                <h3><span class="icon">ğŸ“Š</span>APIå“åº”ç»“æœ</h3>
                <div id="requestStatus" class="status-indicator status-loading" style="display: none;">è¯·æ±‚ä¸­...</div>
                <div id="responseContent" class="response-content">ç­‰å¾…APIè°ƒç”¨...</div>
            </div>
        </div>
    </div>

    <script>
        // APIåŸºç¡€URL
        const BASE_URL = 'http://localhost:8080/api/class-summary';
        
        // ç»Ÿè®¡æ•°æ®
        let stats = {
            totalRequests: 0,
            successCount: 0,
            errorCount: 0,
            responseTimes: []
        };

        // æ›´æ–°ç»Ÿè®¡æ˜¾ç¤º
        function updateStats() {
            document.getElementById('totalRequests').textContent = stats.totalRequests;
            document.getElementById('successCount').textContent = stats.successCount;
            document.getElementById('errorCount').textContent = stats.errorCount;
            
            const avgTime = stats.responseTimes.length > 0 
                ? Math.round(stats.responseTimes.reduce((a, b) => a + b, 0) / stats.responseTimes.length)
                : 0;
            document.getElementById('avgResponseTime').textContent = avgTime + 'ms';
        }

        // é€šç”¨APIè¯·æ±‚å‡½æ•°
        async function makeRequest(url, options = {}) {
            const startTime = Date.now();
            stats.totalRequests++;
            
            // æ˜¾ç¤ºè¯·æ±‚çŠ¶æ€
            const statusEl = document.getElementById('requestStatus');
            const contentEl = document.getElementById('responseContent');
            
            statusEl.style.display = 'block';
            statusEl.className = 'status-indicator status-loading';
            statusEl.textContent = 'è¯·æ±‚ä¸­...';
            contentEl.textContent = 'æ­£åœ¨å‘é€è¯·æ±‚...';

            try {
                const response = await fetch(url, {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                });

                const endTime = Date.now();
                const responseTime = endTime - startTime;
                stats.responseTimes.push(responseTime);

                const data = await response.json();
                
                if (response.ok) {
                    stats.successCount++;
                    statusEl.className = 'status-indicator status-success';
                    statusEl.textContent = `è¯·æ±‚æˆåŠŸ (${responseTime}ms)`;
                } else {
                    stats.errorCount++;
                    statusEl.className = 'status-indicator status-error';
                    statusEl.textContent = `è¯·æ±‚å¤±è´¥ (${responseTime}ms)`;
                }

                contentEl.textContent = JSON.stringify(data, null, 2);
                updateStats();
                
                return data;
            } catch (error) {
                const endTime = Date.now();
                const responseTime = endTime - startTime;
                stats.responseTimes.push(responseTime);
                stats.errorCount++;
                
                statusEl.className = 'status-indicator status-error';
                statusEl.textContent = `ç½‘ç»œé”™è¯¯ (${responseTime}ms)`;
                contentEl.textContent = `é”™è¯¯: ${error.message}`;
                updateStats();
                
                throw error;
            }
        }

        // 1. åˆ›å»ºè¯¾å ‚æ€»ç»“
        async function createClassSummary() {
            const data = {
                courseId: parseInt(document.getElementById('createCourseId').value),
                teacherId: parseInt(document.getElementById('createTeacherId').value),
                title: document.getElementById('createTitle').value,
                description: document.getElementById('createDescription').value,
                keywords: document.getElementById('createKeywords').value
            };

            await makeRequest(BASE_URL + '/create', {
                method: 'POST',
                body: JSON.stringify(data)
            });
        }

        // 2. ä¸Šä¼ å½•éŸ³æ–‡ä»¶
        async function uploadAudioFile() {
            const fileInput = document.getElementById('audioFile');
            const courseId = document.getElementById('uploadCourseId').value;
            
            if (!fileInput.files[0]) {
                alert('è¯·é€‰æ‹©éŸ³é¢‘æ–‡ä»¶');
                return;
            }

            const formData = new FormData();
            formData.append('audioFile', fileInput.files[0]);
            formData.append('courseId', courseId);

            await makeRequest(BASE_URL + '/upload-audio', {
                method: 'POST',
                headers: {}, // æ¸…ç©ºContent-Typeï¼Œè®©æµè§ˆå™¨è®¾ç½®
                body: formData
            });
        }

        // æ›´æ–°æ–‡ä»¶åæ˜¾ç¤º
        function updateFileName() {
            const fileInput = document.getElementById('audioFile');
            const displayEl = document.getElementById('fileDisplayName');
            
            if (fileInput.files[0]) {
                displayEl.textContent = `å·²é€‰æ‹©: ${fileInput.files[0].name}`;
            } else {
                displayEl.textContent = 'ç‚¹å‡»é€‰æ‹©éŸ³é¢‘æ–‡ä»¶ (.mp3, .wav, .m4a, .webm)';
            }
        }

        // 3. è¯­éŸ³è½¬æ–‡å­—
        async function processAudioToText() {
            const data = {
                summaryId: parseInt(document.getElementById('transcriptSummaryId').value),
                audioFilePath: document.getElementById('transcriptAudioPath').value
            };

            await makeRequest(BASE_URL + '/process-audio', {
                method: 'POST',
                body: JSON.stringify(data)
            });
        }

        // 4. AIç”Ÿæˆé‡ç‚¹æ•´ç†
        async function generateAISummary() {
            const data = {
                summaryId: parseInt(document.getElementById('aiSummaryId').value),
                transcriptText: document.getElementById('aiTranscriptText').value,
                coursewareContent: document.getElementById('aiCoursewareContent').value
            };

            await makeRequest(BASE_URL + '/generate-summary', {
                method: 'POST',
                body: JSON.stringify(data)
            });
        }

        // 5. æ›´æ–°æœ€ç»ˆå†…å®¹
        async function updateFinalContent() {
            const summaryId = document.getElementById('updateSummaryId').value;
            const data = {
                finalContent: document.getElementById('updateFinalContent').value
            };

            await makeRequest(BASE_URL + `/update-content/${summaryId}`, {
                method: 'PUT',
                body: JSON.stringify(data)
            });
        }

        // 6. å‘å¸ƒè¯¾å ‚æ€»ç»“
        async function publishClassSummary() {
            const summaryId = document.getElementById('publishSummaryId').value;

            await makeRequest(BASE_URL + `/publish/${summaryId}`, {
                method: 'PUT'
            });
        }

        // 7. è·å–æ•™å¸ˆè¯¾å ‚æ€»ç»“åˆ—è¡¨
        async function getTeacherSummaries() {
            const teacherId = document.getElementById('listTeacherId').value;

            await makeRequest(BASE_URL + `/teacher/${teacherId}`, {
                method: 'GET'
            });
        }

        // 8. è·å–å·²å‘å¸ƒæ€»ç»“åˆ—è¡¨
        async function getPublishedSummaries() {
            const courseId = document.getElementById('publishedCourseId').value;
            
            const url = courseId 
                ? BASE_URL + `/course/${courseId}`
                : BASE_URL + '/published';

            await makeRequest(url, {
                method: 'GET'
            });
        }

        // 9. æœç´¢è¯¾å ‚æ€»ç»“
        async function searchSummaries() {
            const keyword = document.getElementById('searchKeyword').value;

            await makeRequest(BASE_URL + `/search?keyword=${encodeURIComponent(keyword)}`, {
                method: 'GET'
            });
        }

        // 10. è·å–ç»Ÿè®¡ä¿¡æ¯
        async function getSummaryStatistics() {
            const teacherId = document.getElementById('statsTeacherId').value;

            await makeRequest(BASE_URL + `/statistics/${teacherId}`, {
                method: 'GET'
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateStats();
            console.log('è¯¾å ‚é‡ç‚¹æ•´ç†APIæµ‹è¯•é¡µé¢å·²åŠ è½½');
        });
    </script>
</body>
</html> 